import{a as _,f as B,b as U,c as Ve}from"./Bgm4i-1x.js";import{ag as De,E as We,b6 as qe,aq as Ue,e as Ye,u as Be,b7 as Ze,b8 as Ge,q as Je,b9 as Y,aM as Ae,ba as Ke,c as Z,aU as Qe,h as Xe,r as et,bb as tt,y as oe,a2 as H,B as I,x as be,n as ie,A as v,j as l,k as d,t as a,z as ge,l as P,v as f,o as rt,w as at}from"./BKD1GJOj.js";import{b as ot,d as K,s as se}from"./BHb5Aufh.js";import{p as ne,i as S}from"./D94Q0doQ.js";import{b as it,r as G,c as ue}from"./BnJyyoW3.js";const st=()=>performance.now(),$={tick:e=>requestAnimationFrame(e),now:()=>st(),tasks:new Set};function Le(){const e=$.now();$.tasks.forEach(t=>{t.c(e)||($.tasks.delete(t),t.f())}),$.tasks.size!==0&&$.tick(Le)}function nt(e){let t;return $.tasks.size===0&&$.tick(Le),{promise:new Promise(i=>{$.tasks.add(t={c:e,f:i})}),abort(){$.tasks.delete(t)}}}function le(e,t){Ae(()=>{e.dispatchEvent(new CustomEvent(t))})}function lt(e){if(e==="float")return"cssFloat";if(e==="offset")return"cssOffset";if(e.startsWith("--"))return e;const t=e.split("-");return t.length===1?t[0]:t[0]+t.slice(1).map(i=>i[0].toUpperCase()+i.slice(1)).join("")}function Ce(e){const t={},i=e.split(";");for(const c of i){const[r,o]=c.split(":");if(!r||o===void 0)break;const n=lt(r.trim());t[n]=o.trim()}return t}const dt=e=>e;function je(e,t,i,c){var r=(e&Ze)!==0,o="both",n,m=t.inert,j=t.style.overflow,u,b;function M(){return Ae(()=>n??=i()(t,c?.()??{},{direction:o}))}var A={is_global:r,in(){t.inert=m,u=pe(t,M(),b,1,()=>{le(t,"introend"),u?.abort(),u=n=void 0,t.style.overflow=j})},out(k){t.inert=!0,b=pe(t,M(),u,0,()=>{le(t,"outroend"),k?.()})},stop:()=>{u?.abort(),b?.abort()}},L=De;if((L.nodes.t??=[]).push(A),ot){var C=r;if(!C){for(var h=L.parent;h&&(h.f&We)!==0;)for(;(h=h.parent)&&(h.f&qe)===0;);C=!h||(h.f&Ue)!==0}C&&Ye(()=>{Be(()=>A.in())})}}function pe(e,t,i,c,r){var o=c===1;if(Ge(t)){var n,m=!1;return Je(()=>{if(!m){var k=t({direction:o?"in":"out"});n=pe(e,k,i,c,r)}}),{abort:()=>{m=!0,n?.abort()},deactivate:()=>n.deactivate(),reset:()=>n.reset(),t:()=>n.t()}}if(i?.deactivate(),!t?.duration&&!t?.delay)return le(e,o?"introstart":"outrostart"),r(),{abort:Y,deactivate:Y,reset:Y,t:()=>c};const{delay:j=0,css:u,tick:b,easing:M=dt}=t;var A=[];if(o&&i===void 0&&(b&&b(0,1),u)){var L=Ce(u(0,1));A.push(L,L)}var C=()=>1-c,h=e.animate(A,{duration:j,fill:"forwards"});return h.onfinish=()=>{h.cancel(),le(e,o?"introstart":"outrostart");var k=i?.t()??1-c;i?.abort();var g=c-k,F=t.duration*Math.abs(g),V=[];if(F>0){var D=!1;if(u)for(var W=Math.ceil(F/16.666666666666668),O=0;O<=W;O+=1){var R=k+g*M(O/W),q=Ce(u(R,1-R));V.push(q),D||=q.overflow==="hidden"}D&&(e.style.overflow="hidden"),C=()=>{var N=h.currentTime;return k+g*M(N/F)},b&&nt(()=>{if(h.playState!=="running")return!1;var N=C();return b(N,1-N),!0})}h=e.animate(V,{duration:F,fill:"forwards"}),h.onfinish=()=>{C=()=>c,b?.(c,1-c),r()}},{abort:()=>{h&&(h.cancel(),h.effect=null,h.onfinish=Y)},deactivate:()=>{r=Y},reset:()=>{c===0&&b?.(1,0)},t:()=>C()}}function J(e,t,i=t){var c=new WeakSet;Ke(e,"input",async r=>{var o=r?e.defaultValue:e.value;if(o=he(e)?fe(o):o,i(o),Z!==null&&c.add(Z),await Qe(),o!==(o=t())){var n=e.selectionStart,m=e.selectionEnd,j=e.value.length;if(e.value=o??"",m!==null){var u=e.value.length;n===m&&m===j&&u>j?(e.selectionStart=u,e.selectionEnd=u):(e.selectionStart=n,e.selectionEnd=Math.min(m,u))}}}),(Xe&&e.defaultValue!==e.value||Be(t)==null&&e.value)&&(i(he(e)?fe(e.value):e.value),Z!==null&&c.add(Z)),et(()=>{var r=t();if(e===document.activeElement){var o=tt??Z;if(c.has(o))return}he(e)&&r===fe(e.value)||e.type==="date"&&!r&&!e.value||r!==e.value&&(e.value=r??"")})}function he(e){var t=e.type;return t==="number"||t==="range"}function fe(e){return e===""?null:+e}K(["click","keydown"]);var ct=B('<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" aria-hidden="true" role="status"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg> <span class="sr-only">Loading...</span>',1);function Se(e,t){let i=ne(t,"size",3,"md"),c=ne(t,"class",3,"");const r={sm:"h-4 w-4",md:"h-6 w-6",lg:"h-8 w-8"};var o=ct(),n=oe(o);H(2),I(()=>it(n,0,`animate-spin ${r[i()]??""} ${c()??""}`)),_(e,o)}K(["click"]);var vt=B(`<div class="space-y-2 animate-in slide-in-from-top-2 duration-300"><label for="auth-password" class="block text-sm font-medium text-white/90 ml-1">Password</label> <div class="relative"><input id="auth-password" type="password" placeholder="Enter your password" class="w-full px-4 py-3.5 rounded-xl bg-white/10 border border-white/20 text-white placeholder-white/40 
                         focus:outline-none focus:ring-2 focus:ring-white/30 focus:border-white/40
                         transition-all duration-200 backdrop-blur-sm svelte-a034u4"/> <div class="absolute right-3 top-1/2 -translate-y-1/2 text-white/40"><svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"></path></svg></div></div></div>`),ut=B('<div class="p-3 rounded-lg bg-red-500/20 border border-red-500/30 text-red-200 text-sm flex items-center gap-2 animate-in slide-in-from-top-1"><svg class="w-4 h-4 flex-shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg> </div>'),ht=B('<div class="flex items-center justify-center py-4"><!></div>'),ft=B(`<button class="w-full py-4 px-6 rounded-xl bg-white text-indigo-600 font-semibold 
                       shadow-lg shadow-white/25 hover:shadow-xl hover:shadow-white/30
                       hover:scale-[1.02] active:scale-[0.98]
                       transition-all duration-200 flex items-center justify-center gap-3
                       disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100"><svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"></path></svg> Sign in with Passkey</button> <button class="w-full py-4 px-6 rounded-xl bg-white/10 text-white font-semibold border border-white/20
                       hover:bg-white/20 hover:border-white/30
                       transition-all duration-200 flex items-center justify-center gap-3
                       disabled:opacity-50 disabled:cursor-not-allowed"><svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-2.586a1 1 0 01.293-.707l5.964-5.964A6 6 0 1121 9z"></path></svg> Sign in with Password</button>`,1),pt=B(`<button class="w-full py-4 px-6 rounded-xl bg-white text-indigo-600 font-semibold 
                       shadow-lg shadow-white/25 hover:shadow-xl hover:shadow-white/30
                       hover:scale-[1.02] active:scale-[0.98]
                       transition-all duration-200
                       disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100">Sign In</button> <button class="w-full py-3 px-6 rounded-xl text-white/70 hover:text-white font-medium
                       transition-colors duration-200 text-sm">← Back to sign in options</button>`,1),wt=B(`<div class="relative min-h-screen w-full overflow-hidden bg-gradient-to-br from-indigo-500 via-purple-500 to-pink-500"><div class="absolute inset-0 overflow-hidden"><div class="absolute -top-20 -left-20 w-96 h-96 bg-white/10 rounded-full blur-3xl animate-pulse"></div> <div class="absolute top-1/2 -right-20 w-72 h-72 bg-purple-300/20 rounded-full blur-3xl animate-pulse" style="animation-delay: 1s;"></div> <div class="absolute -bottom-20 left-1/3 w-80 h-80 bg-pink-300/20 rounded-full blur-3xl animate-pulse" style="animation-delay: 2s;"></div></div> <div class="relative z-10 flex min-h-screen items-center justify-center p-4"><div class="w-full max-w-md transform transition-all duration-500 hover:scale-[1.02]"><div class="rounded-3xl bg-white/10 backdrop-blur-xl border border-white/20 shadow-2xl overflow-hidden"><div class="relative p-8 text-center"><div class="mx-auto mb-6 w-20 h-20 rounded-2xl bg-gradient-to-br from-indigo-400 to-purple-600 flex items-center justify-center shadow-lg transform rotate-3 hover:rotate-6 transition-transform duration-300"><svg class="w-10 h-10 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg></div> <h1 class="text-3xl font-bold text-white mb-2 tracking-tight">Welcome Back</h1> <p class="text-white/70 text-sm">Sign in to access your notes</p></div> <div class="px-8 pb-8 space-y-4"><div class="space-y-2"><label for="auth-username" class="block text-sm font-medium text-white/90 ml-1">Username</label> <div class="relative"><input id="auth-username" type="text" placeholder="Enter your username" class="w-full px-4 py-3.5 rounded-xl bg-white/10 border border-white/20 text-white placeholder-white/40 
                       focus:outline-none focus:ring-2 focus:ring-white/30 focus:border-white/40
                       transition-all duration-200 backdrop-blur-sm svelte-a034u4"/> <div class="absolute right-3 top-1/2 -translate-y-1/2 text-white/40"><svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path></svg></div></div></div> <!> <!> <!> <div class="space-y-3 pt-2"><!></div> <div class="relative py-4"><div class="absolute inset-0 flex items-center"><div class="w-full border-t border-white/20"></div></div> <div class="relative flex justify-center"><span class="px-4 text-xs font-medium text-white/50 bg-transparent">or</span></div></div> <div class="text-center"><button class="text-white/80 hover:text-white font-medium text-sm transition-colors duration-200
                     underline underline-offset-4 decoration-white/30 hover:decoration-white">Create a new account</button></div></div> <div class="px-8 pb-6"><div class="flex items-center justify-center gap-2 text-xs text-white/50"><svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"></path></svg> <span>End-to-end encrypted • Local-first</span></div></div></div></div></div></div>`);function It(e,t){be(t,!0);let i=ne(t,"authState",27,()=>ie({status:"idle"})),c=P(""),r=P(""),o=P(!1),n=P(!1);async function m(){f(n,!0),await t.onPasskeyLogin(),f(n,!1)}async function j(){f(n,!0),await t.onPasswordLogin(a(c),a(r)),f(n,!1)}var u=wt(),b=v(l(u),2),M=l(b),A=l(M),L=v(l(A),2),C=l(L),h=v(l(C),2),k=l(h);G(k),H(2),d(h),d(C);var g=v(C,2);{var F=x=>{var y=vt(),z=v(l(y),2),s=l(z);G(s),H(2),d(z),d(y),J(s,()=>a(r),p=>f(r,p)),_(x,y)};S(g,x=>{a(o)&&x(F)})}var V=v(g,2);{var D=x=>{var y=ut(),z=v(l(y));d(y),I(()=>se(z,` ${i().error??""}`)),_(x,y)};S(V,x=>{i().status==="error"&&x(D)})}var W=v(V,2);{var O=x=>{var y=ht(),z=l(y);Se(z,{class:"text-white"}),d(y),_(x,y)};S(W,x=>{i().status==="loading"&&x(O)})}var R=v(W,2),q=l(R);{var N=x=>{var y=ft(),z=oe(y);z.__click=m;var s=v(z,2);s.__click=()=>f(o,!0),I(()=>{z.disabled=a(n),s.disabled=a(n)}),_(x,y)},Q=x=>{var y=pt(),z=oe(y);z.__click=j;var s=v(z,2);s.__click=()=>{f(o,!1),f(r,"")},I(()=>{z.disabled=a(n)||!a(c)||!a(r),s.disabled=a(n)}),_(x,y)};S(q,x=>{a(o)?x(Q,!1):x(N)})}d(R);var X=v(R,4),ee=l(X);ee.__click=function(...x){t.onSwitchToRegister?.apply(this,x)},d(X),d(L),H(2),d(A),d(M),d(b),d(u),J(k,()=>a(c),x=>f(c,x)),_(e,u),ge()}K(["click"]);var mt=B(`<div class="space-y-3 animate-in fade-in slide-in-from-bottom-2 duration-300"><span class="block text-sm font-medium text-white/90 ml-1">Choose authentication method</span> <button class="w-full p-4 rounded-xl bg-white/10 border border-white/20 hover:bg-white/20 hover:border-white/30
                       transition-all duration-200 text-left group"><div class="flex items-center gap-4"><div class="w-12 h-12 rounded-xl bg-gradient-to-br from-indigo-400 to-purple-500 flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform"><svg class="w-6 h-6 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"></path></svg></div> <div><div class="font-semibold text-white">Passkey</div> <div class="text-sm text-white/60">Face ID, fingerprint, or device PIN</div></div> <div class="ml-auto"><svg class="w-5 h-5 text-white/40 group-hover:text-white/80" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg></div></div></button> <button class="w-full p-4 rounded-xl bg-white/10 border border-white/20 hover:bg-white/20 hover:border-white/30
                       transition-all duration-200 text-left group"><div class="flex items-center gap-4"><div class="w-12 h-12 rounded-xl bg-gradient-to-br from-pink-400 to-rose-500 flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform"><svg class="w-6 h-6 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-2.586a1 1 0 01.293-.707l5.964-5.964A6 6 0 1121 9z"></path></svg></div> <div><div class="font-semibold text-white">Password</div> <div class="text-sm text-white/60">Create a secure password</div></div> <div class="ml-auto"><svg class="w-5 h-5 text-white/40 group-hover:text-white/80" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg></div></div></button></div>`),bt=U('<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>'),gt=U('<circle cx="12" cy="12" r="10" stroke-width="2"></circle>'),xt=U('<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>'),_t=U('<circle cx="12" cy="12" r="10" stroke-width="2"></circle>'),kt=U('<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>'),yt=U('<circle cx="12" cy="12" r="10" stroke-width="2"></circle>'),Ct=B(`<div class="space-y-4 animate-in slide-in-from-right-2 duration-300"><div class="space-y-2"><label for="reg-password" class="block text-sm font-medium text-white/90 ml-1">Password</label> <input id="reg-password" type="password" placeholder="Create a strong password" class="w-full px-4 py-3.5 rounded-xl bg-white/10 border border-white/20 text-white placeholder-white/40 
                         focus:outline-none focus:ring-2 focus:ring-white/30 focus:border-white/40
                         transition-all duration-200 backdrop-blur-sm"/></div> <div class="space-y-2"><label for="reg-confirm-password" class="block text-sm font-medium text-white/90 ml-1">Confirm password</label> <input id="reg-confirm-password" type="password" placeholder="Confirm your password" class="w-full px-4 py-3.5 rounded-xl bg-white/10 border border-white/20 text-white placeholder-white/40 
                         focus:outline-none focus:ring-2 focus:ring-white/30 focus:border-white/40
                         transition-all duration-200 backdrop-blur-sm"/></div> <div class="space-y-2 text-sm"><div class="flex items-center gap-2"><svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><!></svg> <span>At least 8 characters</span></div> <div class="flex items-center gap-2"><svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><!></svg> <span>One uppercase letter</span></div> <div class="flex items-center gap-2"><svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><!></svg> <span>One number</span></div></div> <button class="text-white/60 hover:text-white text-sm transition-colors duration-200 underline underline-offset-4">Choose different method</button></div>`),jt=B(`<div class="p-4 rounded-xl bg-white/10 border border-white/20 animate-in slide-in-from-right-2 duration-300"><div class="flex items-start gap-3"><div class="w-10 h-10 rounded-xl bg-indigo-500/30 flex items-center justify-center flex-shrink-0"><svg class="w-5 h-5 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></div> <div class="text-sm text-white/80"><p class="font-medium text-white mb-1">Secure authentication</p> <p>You'll use your device's biometric sensor (Face ID, fingerprint) or PIN to authenticate.</p></div></div> <button class="mt-3 text-white/60 hover:text-white text-sm transition-colors duration-200 underline underline-offset-4">Choose different method</button></div>`),Mt=B('<div class="p-3 rounded-lg bg-red-500/20 border border-red-500/30 text-red-200 text-sm flex items-center gap-2"><svg class="w-4 h-4 flex-shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg> </div>'),zt=B('<div class="flex items-center justify-center py-4"><!></div>'),Bt=B(`<button class="w-full py-4 px-6 rounded-xl bg-white text-fuchsia-600 font-semibold 
                     shadow-lg shadow-white/25 hover:shadow-xl hover:shadow-white/30
                     hover:scale-[1.02] active:scale-[0.98]
                     transition-all duration-200
                     disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100"> </button>`),At=B(`<div class="relative min-h-screen w-full overflow-hidden bg-gradient-to-br from-violet-500 via-fuchsia-500 to-pink-500"><div class="absolute inset-0 overflow-hidden"><div class="absolute top-10 left-10 w-96 h-96 bg-white/10 rounded-full blur-3xl animate-pulse"></div> <div class="absolute bottom-20 right-10 w-72 h-72 bg-yellow-300/20 rounded-full blur-3xl animate-pulse" style="animation-delay: 1s;"></div> <div class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[600px] h-[600px] bg-purple-300/10 rounded-full blur-3xl animate-pulse" style="animation-delay: 2s;"></div></div> <div class="relative z-10 flex min-h-screen items-center justify-center p-4"><div class="w-full max-w-md transform transition-all duration-500 hover:scale-[1.01]"><div class="rounded-3xl bg-white/10 backdrop-blur-xl border border-white/20 shadow-2xl overflow-hidden"><div class="p-8 text-center"><div class="mx-auto mb-6 w-20 h-20 rounded-2xl bg-gradient-to-br from-violet-400 to-fuchsia-600 flex items-center justify-center shadow-lg transform -rotate-3 hover:rotate-3 transition-transform duration-300"><svg class="w-10 h-10 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"></path></svg></div> <h1 class="text-3xl font-bold text-white mb-2 tracking-tight">Create Account</h1> <p class="text-white/70 text-sm">Join Locanote and start collaborating</p></div> <div class="px-8 pb-8 space-y-6"><div class="space-y-2"><label for="reg-username" class="block text-sm font-medium text-white/90 ml-1">Choose a username</label> <input id="reg-username" type="text" placeholder="e.g., john_doe" class="w-full px-4 py-3.5 rounded-xl bg-white/10 border border-white/20 text-white placeholder-white/40 
                     focus:outline-none focus:ring-2 focus:ring-white/30 focus:border-white/40
                     transition-all duration-200 backdrop-blur-sm"/></div> <!> <!> <!> <!> <!> <!> <div class="relative py-4"><div class="absolute inset-0 flex items-center"><div class="w-full border-t border-white/20"></div></div> <div class="relative flex justify-center"><span class="px-4 text-xs font-medium text-white/50 bg-transparent">or</span></div></div> <div class="text-center"><button class="text-white/80 hover:text-white font-medium text-sm transition-colors duration-200
                     underline underline-offset-4 decoration-white/30 hover:decoration-white">Already have an account? Sign in</button></div> <div class="flex items-center justify-center gap-2 text-xs text-white/50 pt-2"><svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"></path></svg> <span>Your data stays on your device</span></div></div></div></div></div></div>`);function Vt(e,t){be(t,!0);let i=ne(t,"authState",31,()=>ie({status:"idle"})),c=P(""),r=P(""),o=P(""),n=P(null),m=P(!1),j=P(ie([]));function u(){const s=[];return a(r).length<8&&s.push("At least 8 characters"),/[A-Z]/.test(a(r))||s.push("One uppercase letter"),/[0-9]/.test(a(r))||s.push("One number"),f(j,s,!0),s.length===0}rt(()=>{a(r)&&u()});async function b(){if(f(m,!0),a(n)==="passkey")await t.onRegisterPasskey(a(c));else if(a(n)==="password"){if(a(r)!==a(o)){i({status:"error",error:"Passwords do not match"}),f(m,!1);return}if(!u()){f(m,!1);return}await t.onRegisterPassword(a(c),a(r))}f(m,!1)}var M=At(),A=v(l(M),2),L=l(A),C=l(L),h=v(l(C),2),k=l(h),g=v(l(k),2);G(g),d(k);var F=v(k,2);{var V=s=>{var p=mt(),E=v(l(p),2);E.__click=()=>f(n,"passkey");var te=v(E,2);te.__click=()=>f(n,"password"),d(p),_(s,p)};S(F,s=>{a(n)||s(V)})}var D=v(F,2);{var W=s=>{var p=Ct(),E=l(p),te=v(l(E),2);G(te),d(E);var de=v(E,2),xe=v(l(de),2);G(xe),d(de);var ce=v(de,2),re=l(ce),_e=l(re),Ee=l(_e);{var Pe=w=>{var T=bt();_(w,T)},Te=w=>{var T=gt();_(w,T)};S(Ee,w=>{a(r).length>=8?w(Pe):w(Te,!1)})}d(_e),H(2),d(re);var ae=v(re,2),ke=l(ae),Fe=l(ke);{var $e=w=>{var T=xt();_(w,T)},He=w=>{var T=_t();_(w,T)};S(Fe,w=>{/[A-Z]/.test(a(r))?w($e):w(He,!1)})}d(ke),H(2),d(ae);var ve=v(ae,2),ye=l(ve),Oe=l(ye);{var Re=w=>{var T=kt();_(w,T)},Ne=w=>{var T=yt();_(w,T)};S(Oe,w=>{/[0-9]/.test(a(r))?w(Re):w(Ne,!1)})}d(ye),H(2),d(ve),d(ce);var Ie=v(ce,2);Ie.__click=()=>{f(n,null),f(r,""),f(o,"")},d(p),I((w,T)=>{ue(re,`color: ${a(r).length>=8?"#4ade80":"rgba(255,255,255,0.6)"}`),ue(ae,`color: ${w??""}`),ue(ve,`color: ${T??""}`)},[()=>/[A-Z]/.test(a(r))?"#4ade80":"rgba(255,255,255,0.6)",()=>/[0-9]/.test(a(r))?"#4ade80":"rgba(255,255,255,0.6)"]),J(te,()=>a(r),w=>f(r,w)),J(xe,()=>a(o),w=>f(o,w)),_(s,p)};S(D,s=>{a(n)==="password"&&s(W)})}var O=v(D,2);{var R=s=>{var p=jt(),E=v(l(p),2);E.__click=()=>f(n,null),d(p),_(s,p)};S(O,s=>{a(n)==="passkey"&&s(R)})}var q=v(O,2);{var N=s=>{var p=Mt(),E=v(l(p));d(p),I(()=>se(E,` ${i().error??""}`)),_(s,p)};S(q,s=>{i().status==="error"&&s(N)})}var Q=v(q,2);{var X=s=>{var p=zt(),E=l(p);Se(E,{class:"text-white"}),d(p),_(s,p)};S(Q,s=>{i().status==="loading"&&s(X)})}var ee=v(Q,2);{var x=s=>{var p=Bt();p.__click=b;var E=l(p,!0);d(p),I(()=>{p.disabled=a(m)||!a(c)||a(n)==="password"&&(!a(r)||a(r)!==a(o)||a(j).length>0),se(E,a(n)==="passkey"?"Create Account with Passkey":"Create Account")}),_(s,p)};S(ee,s=>{a(n)&&s(x)})}var y=v(ee,4),z=l(y);z.__click=function(...s){t.onSwitchToLogin?.apply(this,s)},d(y),H(2),d(h),d(C),d(L),d(A),d(M),J(g,()=>a(c),s=>f(c,s)),_(e,M),ge()}K(["click"]);let we=P(ie(typeof navigator<"u"?navigator.onLine:!0)),me=P("unknown"),Me=P(!1);if(typeof globalThis<"u"&&typeof globalThis.window<"u"){const e=globalThis.window;e.addEventListener("online",()=>{f(we,!0),console.log("[Network] Back online")}),e.addEventListener("offline",()=>{f(we,!1),console.log("[Network] Gone offline")});const i=e.navigator.connection;i&&(f(me,i.effectiveType||"unknown",!0),f(Me,i.saveData||i.effectiveType==="2g",!0),i.addEventListener("change",()=>{f(me,i.effectiveType,!0),f(Me,i.saveData||i.effectiveType==="2g",!0)}))}const ze={get isOnline(){return a(we)},get connectionType(){return a(me)}},Lt=e=>e;function St(e){const t=e-1;return t*t*t+1}function Et(e,{delay:t=0,duration:i=400,easing:c=Lt}={}){const r=+getComputedStyle(e).opacity;return{delay:t,duration:i,easing:c,css:o=>`opacity: ${o*r}`}}function Pt(e,{delay:t=0,duration:i=400,easing:c=St,axis:r="y"}={}){const o=getComputedStyle(e),n=+o.opacity,m=r==="y"?"height":"width",j=parseFloat(o[m]),u=r==="y"?["top","bottom"]:["left","right"],b=u.map(g=>`${g[0].toUpperCase()}${g.slice(1)}`),M=parseFloat(o[`padding${b[0]}`]),A=parseFloat(o[`padding${b[1]}`]),L=parseFloat(o[`margin${b[0]}`]),C=parseFloat(o[`margin${b[1]}`]),h=parseFloat(o[`border${b[0]}Width`]),k=parseFloat(o[`border${b[1]}Width`]);return{delay:t,duration:i,easing:c,css:g=>`overflow: hidden;opacity: ${Math.min(g*20,1)*n};${m}: ${g*j}px;padding-${u[0]}: ${g*M}px;padding-${u[1]}: ${g*A}px;margin-${u[0]}: ${g*L}px;margin-${u[1]}: ${g*C}px;border-${u[0]}-width: ${g*h}px;border-${u[1]}-width: ${g*k}px;min-${m}: 0`}}var Tt=B('<div class="mt-2 pt-2 border-t border-yellow-600/30 text-xs"><p> </p> <p>Last synced: Just now</p> <p class="mt-1 opacity-75">All your data is stored locally and will automatically sync when your connection is restored.</p></div>'),Ft=B(`<div class="fixed top-0 left-0 right-0 z-50 bg-yellow-500 text-yellow-900 px-4 py-2 shadow-lg"><div class="max-w-7xl mx-auto flex items-center justify-between"><div class="flex items-center gap-3"><svg class="w-5 h-5 flex-shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18.364 5.636a9 9 0 010 12.728m0 0l-2.829-2.829m2.829 2.829L21 21M15.536 8.464a5 5 0 010 7.072m0 0l-2.829-2.829m-4.243 2.829a4.978 4.978 0 01-1.414-2.83m-1.414 5.658a9 9 0 01-2.167-9.238m7.824 2.167a1 1 0 111.414 1.414m-1.414-1.414L3 3m8.293 8.293l1.414 1.414"></path></svg> <div><p class="font-semibold text-sm">You're offline</p> <p class="text-xs opacity-80">Your notes are still available. Changes will sync when you're back online.</p></div></div> <div class="flex items-center gap-2"><button class="p-1 hover:bg-yellow-600/20 rounded transition-colors" aria-label="Toggle details"><svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></button> <button class="p-1 hover:bg-yellow-600/20 rounded transition-colors" aria-label="Retry connection"><svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path></svg></button></div></div> <!></div>`);function Dt(e,t){be(t,!0);let i=P(!1),c=at(()=>!ze.isOnline);var r=Ve(),o=oe(r);{var n=m=>{var j=Ft(),u=l(j),b=v(l(u),2),M=l(b);M.__click=()=>f(i,!a(i));var A=v(M,2);A.__click=()=>window.location.reload(),d(b),d(u);var L=v(u,2);{var C=h=>{var k=Tt(),g=l(k),F=l(g);d(g),H(4),d(k),I(()=>se(F,`Connection type: ${ze.connectionType??""}`)),je(3,k,()=>Et),_(h,k)};S(L,h=>{a(i)&&h(C)})}d(j),je(3,j,()=>Pt,()=>({duration:300})),_(m,j)};S(o,m=>{a(c)&&m(n)})}_(e,r),ge()}K(["click"]);export{It as A,Dt as O,Vt as R};
