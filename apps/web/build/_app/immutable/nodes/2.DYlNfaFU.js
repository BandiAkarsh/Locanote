import{a as d,f as k,b as A}from"../chunks/Bgm4i-1x.js";import{l as q,n as F,o as b,t as o,v as J,w as N,x as U,y as V,z as W,A as h,j as r,k as s,B as j}from"../chunks/BKD1GJOj.js";import{d as X,s as Z}from"../chunks/BHb5Aufh.js";import{s as $}from"../chunks/G0D1H0Mq.js";import{i as y}from"../chunks/D94Q0doQ.js";import{a as l,s as z}from"../chunks/BnJyyoW3.js";import{g as ee}from"../chunks/CZjifAYM.js";import{O as te}from"../chunks/BzuvfmtD.js";const E="locanote-theme",f=typeof globalThis<"u"&&typeof globalThis.window<"u";function re(){if(!f)return"system";const e=globalThis.window?.localStorage?.getItem(E);return e==="light"||e==="dark"||e==="system"?e:"system"}function O(){return f?globalThis.window?.matchMedia?.("(prefers-color-scheme: dark)")?.matches??!1:!1}function w(e){if(!f)return;const m=globalThis.window?.document;if(!m)return;const g=m.documentElement;e==="dark"||e==="system"&&O()?g.classList.add("dark"):g.classList.remove("dark")}function se(e){f&&globalThis.window?.localStorage?.setItem(E,e)}let c=q(F(re()));b(()=>{w(o(c))});if(f){const e=globalThis.window?.matchMedia?.("(prefers-color-scheme: dark)");e&&e.addEventListener("change",u=>{o(c)==="system"&&w("system")})}let B=N(()=>o(c)==="dark"||o(c)==="system"&&O());const p={get current(){return o(c)},set current(e){J(c,e,!0),w(e),se(e)},get isDark(){return o(B)},toggle(){const e=o(B)?"light":"dark";this.current=e},setLight(){this.current="light"},setDark(){this.current="dark"},setSystem(){this.current="system"}};var ae=k('<span class="text-sm text-gray-600 dark:text-gray-400"> </span>'),oe=A('<svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"></path></svg>'),ie=A('<svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"></path></svg>'),ne=k('<div class="min-h-screen bg-gray-50 dark:bg-gray-900"><header class="bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 sticky top-0 z-50"><div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"><div class="flex justify-between items-center h-16"><div class="flex items-center gap-2"><div class="w-8 h-8 rounded-lg bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center"><span class="text-white font-bold text-sm">L</span></div> <span class="font-semibold text-gray-900 dark:text-white">Locanote</span></div> <div class="flex items-center gap-4"><!> <button class="p-2 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors"><!></button> <button class="px-3 py-1.5 text-sm font-medium text-red-600 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors">Logout</button></div></div></div></header> <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"><!></main></div>'),de=k('<div class="min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900"><div class="animate-pulse text-gray-400">Loading...</div></div>'),le=k("<!> <!>",1);function ke(e,u){U(u,!0),b(()=>{l.initialize()}),b(()=>{l.state.status==="unauthenticated"&&ee("/")});var m=le(),g=V(m);te(g,{});var _=h(g,2);{var C=i=>{var v=ne(),x=r(v),T=r(x),D=r(T),S=h(r(D),2),L=r(S);{var G=t=>{var a=ae(),Y=r(a,!0);s(a),j(()=>Z(Y,l.session.username)),d(t,a)};y(L,t=>{l.session&&t(G)})}var n=h(L,2);n.__click=()=>p.toggle();var H=r(n);{var K=t=>{var a=oe();d(t,a)},P=t=>{var a=ie();d(t,a)};y(H,t=>{p.isDark?t(K):t(P,!1)})}s(n);var Q=h(n,2);Q.__click=()=>l.logout(),s(S),s(D),s(T),s(x);var M=h(x,2),R=r(M);$(R,()=>u.children),s(M),s(v),j(()=>{z(n,"title",p.isDark?"Switch to light mode":"Switch to dark mode"),z(n,"aria-label",p.isDark?"Switch to light mode":"Switch to dark mode")}),d(i,v)},I=i=>{var v=de();d(i,v)};y(_,i=>{l.isAuthenticated?i(C):i(I,!1)})}d(e,m),W()}X(["click"]);export{ke as component};
